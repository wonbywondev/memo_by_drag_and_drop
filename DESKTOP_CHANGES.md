# Desktop 폴더 적용된 변경사항

## 완료된 항목
1. ✅ 실행 가능 여부 체크박스 제거 - renderer.js:698-704
2. ✅ 필터를 다중 선택 카드 형태로 변경 - index.html, renderer.js, styles.css
3. ✅ 드래그 핸들 제거 - index.html (카드 전체가 드래그 가능)
4. ✅ 제목/설명 수정 중 Cmd+S 즉시 저장 - renderer.js:260-281
5. ✅ 연필 아이콘 클릭 시 제목 입력창 포커스/선택 - renderer.js:256-259
6. ✅ 드래그 중 1.2초 호버로 삭제 모드 활성화 - renderer.js:81-82, 606-688
7. ✅ 할 일 완료 체크박스 및 일정 표시 - renderer.js:305-344
8. ✅ 변경사항 없을 때 Cmd+S 알림 - renderer.js:1009-1012
9. ✅ 삭제 아이콘 표시 시 드롭으로 연결 해제 - renderer.js:669-691
10. ✅ **양방향 관계 버그 수정** - renderer.js:473-482, main.js:231-260

## 최근 수정 사항 (2026-01-01)

### 양방향 관계 버그 수정
**문제:** 메모리에서는 양방향 연결이 정상 작동하지만, Cmd+S 저장 시 파일에는 일방향으로만 저장되는 버그

**원인:**
- `updateNode` 함수가 파일의 기존 links를 읽어서 보존하려다가 메모리의 최신 links를 덮어씀
- 결과적으로 A→B 연결 시 A의 파일만 업데이트되고 B의 파일은 업데이트 안 됨

**수정:**
1. `renderer.js:401-410` - links는 항상 현재 메모리 상태 사용
2. `main.js:250-252` - updateNodeLinks에서 dueDate, completed 필드 보존
3. `renderer.js:960-994` - 파일 로드 시 일방향 관계 감지 및 경고

**일방향 관계 감지:**
- 파일 로드 시 A→B 링크는 있지만 B→A 링크가 없는 경우를 자동 감지
- 콘솔에 상세 정보 출력 (from, to, 파일 경로 포함)
- 사용자가 직접 확인하고 수동으로 수정하도록 경고 표시
- **자동 복구하지 않음** - 데이터 무결성 보장

**검증 방법:**
1. A와 B 노드 연결
2. Cmd+S로 저장
3. 양쪽 파일 모두 확인: A.md의 links에 B가, B.md의 links에 A가 있어야 함
4. 일방향 관계가 있는 경우 앱 로드 시 경고 메시지 표시

## 참고사항
desktop 버전은 Markdown 파일 기반이므로 루트 버전과 달리:
- localStorage 대신 파일 시스템 사용
- Cmd+S는 이미 구현되어 있음 (renderer.js:994-1042)
- 파일 저장 로직이 복잡함 (frontmatter 파싱 필요)
- 양방향 관계는 Cmd+S 시 모든 노드의 파일을 업데이트하여 보장
